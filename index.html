<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Will You Be My Valentine? üíï</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        height: 100dvh;
        background: linear-gradient(135deg, #ffe6f2, #fff0f5);
        font-family:
          system-ui,
          -apple-system,
          sans-serif;
        color: #222;
        overflow: hidden;
        touch-action: manipulation;
      }

      .screen {
        position: fixed;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2vw;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.6s ease;
      }

      .screen.active {
        opacity: 1;
        pointer-events: auto;
      }

      .card {
        background: #ffffff;
        border-radius: 20px;
        padding: 20px 18px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
        width: 94%;
        max-width: 400px;
        max-height: 94dvh;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        align-items: center;
        transition: all 1.5s cubic-bezier(0.34, 1.56, 0.64, 1);
      }

      #s1 .card {
        background-color: #f9fbf8;
      }

      #s2 .card {
        background-color: #fafafb;
      }

      #s3 .card {
        background-color: #fcfcfb;
      }

      .panda img {
        max-width: 180px;
        max-height: 180px;
        object-fit: contain;
        margin-bottom: 20px;
      }

      .heart-eyes {
        width: 1.8rem;
        height: 1.8rem;
        vertical-align: middle;
      }

      .bouquet {
        width: 100%;
        height: auto;
        animation: slow-breathe 8s ease-in-out infinite;
        transform-origin: center bottom;
      }

      @keyframes slow-breathe {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-12px);
        }
      }

      .kiss {
        width: 80%;
        max-width: 30px;
        height: auto;
      }

      h1,
      h2 {
        color: #ff6b9d;
        line-height: 1.3;
      }

      .typing-title {
        font-size: 2.1rem;
        margin: 10px 0 35px;
        min-height: 3rem;
        opacity: 0;
        transition: opacity 0.4s ease;
        border-right: 0.18em solid #ff6b9d;
        white-space: nowrap;
        overflow: hidden;
        text-align: center;
        line-height: 1.4;
      }

      .typing-title.visible {
        opacity: 1;
      }

      .typing-title.typing {
        animation: blink-caret 0.75s step-end infinite;
      }

      #s3 .card {
        justify-content: flex-start;
        padding-top: 30px;
        width: 90%;
        max-width: 380px;
        transform: scale(0.65);
        opacity: 0.92;
        transition: all 1.4s ease-out;
        overflow: hidden;
      }

      #s3 .card.grow {
        transform: scale(1);
        opacity: 1;
        transition: all 1.5s cubic-bezier(0.34, 1.56, 0.64, 1);
      }

      #s3 .panda img {
        max-width: 220px;
        max-height: 220px;
        object-fit: contain;
        margin-bottom: 0;
      }

      #s3 .card.small-phase {
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 40vh;
      }

      @keyframes blink-caret {
        from,
        to {
          border-color: transparent;
        }
        50% {
          border-color: #ff6b9d;
        }
      }

      .choices-container {
        width: 100%;
        opacity: 0;
        transform: translateY(20px);
        transition:
          opacity 0.8s ease,
          transform 0.7s ease;
        pointer-events: none;
      }

      .choices-container.visible {
        opacity: 1;
        transform: translateY(0);
        pointer-events: auto;
      }

      button {
        margin: 10px 8px;
        padding: 14px 32px;
        font-size: 1.1rem;
        border: none;
        border-radius: 50px;
        cursor: pointer;
        font-weight: bold;
        transition: all 0.25s;
      }

      .yes-btn {
        background: #ff6b9d;
        color: white;
      }

      .yes-btn:hover {
        background: #ff4785;
        transform: scale(1.07);
      }

      .no-btn {
        background: #e0e0e0;
        color: #555;
      }

      .no-btn:hover {
        background: #d0d0d0;
      }

      #s5 .card {
        position: relative;
        background: #fffef9;
        border: 2px solid #ffe6e6;
        box-shadow: 0 12px 40px rgba(255, 107, 157, 0.15);
        padding: 0;
        overflow: hidden;
        transform: scale(0.85) rotate(-1deg);
        opacity: 0;
        transition: all 1.2s cubic-bezier(0.34, 1.56, 0.64, 1);
      }

      #s5 .card.active-letter {
        transform: scale(1) rotate(0deg);
        opacity: 1;
      }

      #s5 .envelope-flap {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 60px;
        background: linear-gradient(to bottom, #ffccd5, #ffe6e6);
        clip-path: polygon(0 0, 100% 0, 50% 100%);
        transform-origin: top;
        transform: rotateX(90deg);
        transition: transform 1.4s ease-out 0.4s;
        z-index: 2;
      }

      #s5 .card.active-letter .envelope-flap {
        transform: rotateX(0deg);
      }

      #s5 .letter-content {
        padding: 40px 28px 32px;
        opacity: 0;
        transform: translateY(30px);
        transition: all 1s ease-out 1.2s;
      }

      #s5 .card.active-letter .letter-content {
        opacity: 1;
        transform: translateY(0);
      }

      #s5 .signature {
        font-family: "Dancing Script", cursive;
        font-size: 1.6rem;
        color: #ff6b9d;
        margin-top: 2.5rem;
        letter-spacing: 1px;
        opacity: 0;
        transition: opacity 1.2s ease 2s;
      }

      #s5 .card.active-letter .signature {
        opacity: 1;
      }

      @media (max-height: 640px) {
        .panda img {
          max-width: 140px;
          max-height: 140px;
        }
        button {
          padding: 12px 28px;
          font-size: 1rem;
        }
        .typing-title {
          font-size: 1.8rem;
        }
      }
    </style>
  </head>
  <body>
    <div id="s1" class="screen active">
      <div class="card">
        <div class="panda"><img src="1st.gif" alt="panda" /></div>
        <h2>Hey!</h2>
        <p style="font-size: 1.3rem; margin: 16px 0">
          I want to ask you something,
        </p>
        <p style="color: #888; margin-bottom: 24px">Can I?</p>
        <div style="display: flex; justify-content: center; gap: 16px">
          <button class="yes-btn" onclick="goTo(2)">YES</button>
          <button class="no-btn" onclick="goTo(6)">NO</button>
        </div>
      </div>
    </div>

    <!-- Screen 2 -->
    <div id="s2" class="screen">
      <div class="card">
        <div class="panda"><img src="2nd.gif" alt="cute" /></div>
        <h1>
          GOOD MY CUTIEPIE <img src="heart-eyes.png" class="heart-eyes" />
        </h1>
        <p style="font-size: 15px; margin: 24px 0">
          Most important question, are you ready?
        </p>
        <button class="yes-btn" onclick="goTo(3)">Yes! üíñ</button>
      </div>
    </div>

    <div id="s3" class="screen">
      <div class="card" id="s3-card">
        <div class="panda">
          <img src="3rd.gif" alt="panda" class="third" />
        </div>

        <h1 id="valentine-title" class="typing-title"></h1>

        <div id="choices" class="choices-container">
          <div
            style="
              margin: 20px 0;
              display: flex;
              flex-wrap: wrap;
              justify-content: center;
              gap: 16px;
            "
          >
            <button class="yes-btn" onclick="goTo(4)">A. Yes</button>
            <button class="yes-btn" onclick="goTo(4)">B. A</button>
            <button class="yes-btn" onclick="goTo(4)">C. B</button>
            <button class="yes-btn" onclick="goTo(4)">D. C</button>
          </div>
          <p
            style="
              color: #ff6b9d;
              font-weight: bold;
              margin-top: 20px;
              font-size: 1.1rem;
              text-align: center;
            "
          >
            Pick or I'll kill myself! ‚úø
          </p>
        </div>
      </div>
    </div>

    <div id="s4" class="screen">
      <div class="card">
        <div class="flowers"><img src="bouquet.png" class="bouquet" /></div>
        <h2>This is for you <img src="kiss.gif" class="kiss" /></h2>
        <button class="yes-btn" onclick="goTo(5)">
          A Letter for you, mi amor
        </button>
      </div>
    </div>

    <div id="s5" class="screen">
      <div class="card" id="letter-card">
        <!-- Optional envelope flap -->
        <div class="envelope-flap"></div>

        <div class="letter-content">
          <h1
            style="
              font-size: 2rem;
              margin-bottom: 1.5rem;
              margin-top: 1.5rem;
              text-align: center;
            "
          >
            My Dearest Crushie
          </h1>
          <p class="letter">
            Happy Valentine's Day, my love, my crush, my gwen, my everything.<br />
            Pardon me, for this is what I could afford right now, iloveyou.<br /><br />

            Even in you worst days,<br />
            I could never struggle to love you<br /><br />

            Loving you is like breathing<br />
            how could I stop?<br />
            And in the middle of all my chaos,<br />
            there was you.<br /><br />

            I love you,<br />
            nothing,<br />
            nobody,<br />
            not even time can change that.
          </p>
          <div class="signature">Forever Yours, nigga ‚ô°</div>
        </div>
      </div>
    </div>

    <div id="s6" class="screen">
      <div class="card">
        <div class="panda"><img src="no-pic.png" alt="sad" /></div>
        <h1>How Dare You!</h1>
        <p style="font-size: 1.1rem; margin: 20px 0">
          You will go back to say Yes!
        </p>
        <button class="yes-btn" onclick="goTo(1)">GO BACK</button>
      </div>
    </div>

    <script>
      let current = 1;

      const messages = {
        3: ["Will you be my", "Valentine? ‚ô°"],
      };

      function typeWriter(el, parts, speed = 85) {
        el.innerHTML = ""; // ‚Üê use innerHTML so <br> works
        el.classList.add("typing");
        el.classList.add("visible");

        let partIndex = 0;
        let charIndex = 0;

        function typeNext() {
          if (partIndex >= parts.length) {
            // finished all parts
            clearInterval(interval); // just in case
            el.classList.remove("typing");
            el.style.borderRight = "none";

            const choices = document.getElementById("choices");
            if (choices) {
              setTimeout(() => {
                choices.classList.add("visible");
              }, 600);
            }
            return;
          }

          const currentPart = parts[partIndex];

          if (charIndex < currentPart.length) {
            el.innerHTML += currentPart.charAt(charIndex);
            charIndex++;
          } else {
            // end of current line ‚Üí add break + move to next part
            if (partIndex < parts.length - 1) {
              el.innerHTML += "<br>";
            }
            partIndex++;
            charIndex = 0;
          }
        }

        const interval = setInterval(typeNext, speed);
      }

      function goTo(n) {
        document.getElementById(`s${current}`).classList.remove("active");

        setTimeout(() => {
          const next = document.getElementById(`s${n}`);
          next.classList.add("active");
          current = n;

          if (n === 3) {
            const card = document.getElementById("s3-card");
            const title = document.getElementById("valentine-title");

            card.classList.remove("grow");

            setTimeout(() => {
              card.classList.add("grow");

              setTimeout(() => {
                if (title && messages[3]) {
                  typeWriter(title, messages[3], 85);
                }
              }, 1600);
            }, 1800);
          }

          if (n === 5) {
            const letterCard = document.getElementById("letter-card");
            if (letterCard) {
              setTimeout(() => {
                letterCard.classList.add("active-letter");
              }, 400);
            }
          }
        }, 600);
      }
    </script>
  </body>
</html>
